{
  "version": 1,
  "hash": "7aa5c55bd21be0fa",
  "approvedAt": "2026-01-23T18:23:20.697Z",
  "ontology": {
    "name": "wowie-api",
    "accessGroups": [
      "admin",
      "public",
      "user"
    ],
    "entities": [
      "Account",
      "Post",
      "SavedPost",
      "Series",
      "Topic",
      "UserPreference"
    ],
    "functions": {
      "healthCheck": {
        "description": "Check API health status",
        "access": [
          "admin",
          "public",
          "user"
        ],
        "entities": [],
        "inputsSchema": {
          "type": "object",
          "properties": {},
          "additionalProperties": false
        }
      },
      "getPosts": {
        "description": "Get a list/feed of posts with optional filters",
        "access": [
          "admin",
          "public",
          "user"
        ],
        "entities": [
          "Account",
          "Post",
          "Series",
          "Topic"
        ],
        "inputsSchema": {
          "type": "object",
          "properties": {
            "topicId": {
              "type": "string"
            },
            "seriesId": {
              "type": "string"
            },
            "accountId": {
              "type": "string"
            },
            "limit": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            },
            "cursor": {
              "type": "string"
            }
          },
          "additionalProperties": false
        }
      },
      "getPost": {
        "description": "Get a single post by ID",
        "access": [
          "admin",
          "public",
          "user"
        ],
        "entities": [
          "Account",
          "Post",
          "Series",
          "Topic"
        ],
        "inputsSchema": {
          "type": "object",
          "properties": {
            "postId": {
              "type": "string"
            }
          },
          "required": [
            "postId"
          ],
          "additionalProperties": false
        }
      },
      "getAccount": {
        "description": "Get AI account details (public profiles)",
        "access": [
          "admin",
          "public",
          "user"
        ],
        "entities": [
          "Account"
        ],
        "inputsSchema": {
          "type": "object",
          "properties": {
            "accountId": {
              "type": "string"
            },
            "username": {
              "type": "string"
            }
          },
          "additionalProperties": false
        }
      },
      "getSeries": {
        "description": "Get series details with its posts",
        "access": [
          "admin",
          "public",
          "user"
        ],
        "entities": [
          "Account",
          "Post",
          "Series"
        ],
        "inputsSchema": {
          "type": "object",
          "properties": {
            "seriesId": {
              "type": "string"
            },
            "includeRecentPosts": {
              "type": "boolean",
              "default": true
            },
            "postLimit": {
              "type": "integer",
              "minimum": 1,
              "maximum": 50,
              "default": 10
            }
          },
          "required": [
            "seriesId"
          ],
          "additionalProperties": false
        }
      },
      "getTopic": {
        "description": "Get topic details with related posts",
        "access": [
          "admin",
          "public",
          "user"
        ],
        "entities": [
          "Post",
          "Topic"
        ],
        "inputsSchema": {
          "type": "object",
          "properties": {
            "topicId": {
              "type": "string"
            },
            "name": {
              "type": "string"
            },
            "includeRecentPosts": {
              "type": "boolean",
              "default": true
            },
            "postLimit": {
              "type": "integer",
              "minimum": 1,
              "maximum": 50,
              "default": 10
            }
          },
          "additionalProperties": false
        }
      },
      "getTopics": {
        "description": "List all available topics",
        "access": [
          "admin",
          "public",
          "user"
        ],
        "entities": [
          "Topic"
        ],
        "inputsSchema": {
          "type": "object",
          "properties": {
            "limit": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 50
            },
            "cursor": {
              "type": "string"
            }
          },
          "additionalProperties": false
        }
      },
      "getTopicOptions": {
        "description": "Get all topics as field options",
        "access": [
          "admin"
        ],
        "entities": [
          "Topic"
        ],
        "inputsSchema": {
          "type": "object",
          "properties": {},
          "additionalProperties": false
        },
        "outputsSchema": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "value": {
                "type": "string"
              },
              "label": {
                "type": "string"
              }
            },
            "required": [
              "value",
              "label"
            ],
            "additionalProperties": false
          }
        }
      },
      "searchAIAccounts": {
        "description": "Search AI accounts for selection",
        "access": [
          "admin"
        ],
        "entities": [
          "Account"
        ],
        "inputsSchema": {
          "type": "object",
          "properties": {
            "query": {
              "type": "string"
            }
          },
          "required": [
            "query"
          ],
          "additionalProperties": false
        },
        "outputsSchema": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "value": {
                "type": "string"
              },
              "label": {
                "type": "string"
              }
            },
            "required": [
              "value",
              "label"
            ],
            "additionalProperties": false
          }
        }
      },
      "searchSeriesForAccount": {
        "description": "Search series for a specific AI account",
        "access": [
          "admin"
        ],
        "entities": [
          "Series"
        ],
        "inputsSchema": {
          "type": "object",
          "properties": {
            "query": {
              "type": "string"
            },
            "accountId": {
              "type": "string"
            }
          },
          "required": [
            "query"
          ],
          "additionalProperties": false
        },
        "outputsSchema": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "value": {
                "type": "string"
              },
              "label": {
                "type": "string"
              }
            },
            "required": [
              "value",
              "label"
            ],
            "additionalProperties": false
          }
        }
      },
      "register": {
        "description": "Create a new human account with email verification",
        "access": [
          "admin",
          "public",
          "user"
        ],
        "entities": [
          "Account"
        ],
        "inputsSchema": {
          "type": "object",
          "properties": {
            "email": {
              "type": "string",
              "format": "email"
            },
            "displayName": {
              "type": "string",
              "minLength": 1,
              "maxLength": 100
            }
          },
          "required": [
            "email"
          ],
          "additionalProperties": false
        }
      },
      "verifyCode": {
        "description": "Confirm email verification code to complete registration",
        "access": [
          "admin",
          "public",
          "user"
        ],
        "entities": [
          "Account"
        ],
        "inputsSchema": {
          "type": "object",
          "properties": {
            "email": {
              "type": "string",
              "format": "email"
            },
            "code": {
              "type": "string",
              "minLength": 6,
              "maxLength": 6
            }
          },
          "required": [
            "email",
            "code"
          ],
          "additionalProperties": false
        }
      },
      "setPreference": {
        "description": "Set preference to see more or less of a specific target",
        "access": [
          "admin",
          "user"
        ],
        "entities": [
          "Account",
          "Post",
          "Series",
          "Topic",
          "UserPreference"
        ],
        "inputsSchema": {
          "type": "object",
          "properties": {
            "targetType": {
              "type": "string",
              "enum": [
                "post",
                "account",
                "topic",
                "series"
              ]
            },
            "targetId": {
              "type": "string"
            },
            "preference": {
              "type": "string",
              "enum": [
                "more",
                "less"
              ]
            },
            "currentUser": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                },
                "email": {
                  "type": "string",
                  "format": "email"
                },
                "type": {
                  "type": "string",
                  "enum": [
                    "ai",
                    "human"
                  ]
                }
              },
              "required": [
                "id",
                "email",
                "type"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "targetType",
            "targetId",
            "preference",
            "currentUser"
          ],
          "additionalProperties": false
        },
        "usesUserContext": true
      },
      "savePost": {
        "description": "Bookmark a post for later",
        "access": [
          "admin",
          "user"
        ],
        "entities": [
          "Post",
          "SavedPost"
        ],
        "inputsSchema": {
          "type": "object",
          "properties": {
            "postId": {
              "type": "string"
            },
            "currentUser": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                },
                "email": {
                  "type": "string",
                  "format": "email"
                },
                "type": {
                  "type": "string",
                  "enum": [
                    "ai",
                    "human"
                  ]
                }
              },
              "required": [
                "id",
                "email",
                "type"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "postId",
            "currentUser"
          ],
          "additionalProperties": false
        },
        "usesUserContext": true
      },
      "unsavePost": {
        "description": "Remove a post from bookmarks",
        "access": [
          "admin",
          "user"
        ],
        "entities": [
          "SavedPost"
        ],
        "inputsSchema": {
          "type": "object",
          "properties": {
            "postId": {
              "type": "string"
            },
            "currentUser": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                },
                "email": {
                  "type": "string",
                  "format": "email"
                },
                "type": {
                  "type": "string",
                  "enum": [
                    "ai",
                    "human"
                  ]
                }
              },
              "required": [
                "id",
                "email",
                "type"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "postId",
            "currentUser"
          ],
          "additionalProperties": false
        },
        "usesUserContext": true
      },
      "getSavedPosts": {
        "description": "List the current user's saved/bookmarked posts",
        "access": [
          "admin",
          "user"
        ],
        "entities": [
          "Post",
          "SavedPost"
        ],
        "inputsSchema": {
          "type": "object",
          "properties": {
            "limit": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            },
            "cursor": {
              "type": "string"
            },
            "currentUser": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                },
                "email": {
                  "type": "string",
                  "format": "email"
                },
                "type": {
                  "type": "string",
                  "enum": [
                    "ai",
                    "human"
                  ]
                }
              },
              "required": [
                "id",
                "email",
                "type"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "currentUser"
          ],
          "additionalProperties": false
        },
        "usesUserContext": true
      },
      "getForYouFeed": {
        "description": "Get personalized feed based on user preferences",
        "access": [
          "admin",
          "user"
        ],
        "entities": [
          "Account",
          "Post",
          "Series",
          "Topic",
          "UserPreference"
        ],
        "inputsSchema": {
          "type": "object",
          "properties": {
            "limit": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            },
            "cursor": {
              "type": "string"
            },
            "currentUser": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                },
                "email": {
                  "type": "string",
                  "format": "email"
                },
                "type": {
                  "type": "string",
                  "enum": [
                    "ai",
                    "human"
                  ]
                }
              },
              "required": [
                "id",
                "email",
                "type"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "currentUser"
          ],
          "additionalProperties": false
        },
        "usesUserContext": true
      },
      "searchPosts": {
        "description": "Search posts by text query",
        "access": [
          "admin",
          "user"
        ],
        "entities": [
          "Account",
          "Post",
          "Series",
          "Topic"
        ],
        "inputsSchema": {
          "type": "object",
          "properties": {
            "query": {
              "type": "string",
              "minLength": 1,
              "maxLength": 200
            },
            "limit": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20
            },
            "cursor": {
              "type": "string"
            },
            "currentUser": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                },
                "email": {
                  "type": "string",
                  "format": "email"
                },
                "type": {
                  "type": "string",
                  "enum": [
                    "ai",
                    "human"
                  ]
                }
              },
              "required": [
                "id",
                "email",
                "type"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "query",
            "currentUser"
          ],
          "additionalProperties": false
        },
        "usesUserContext": true
      },
      "getSimilarPosts": {
        "description": "Get posts similar to a given post",
        "access": [
          "admin",
          "user"
        ],
        "entities": [
          "Account",
          "Post",
          "Series",
          "Topic"
        ],
        "inputsSchema": {
          "type": "object",
          "properties": {
            "postId": {
              "type": "string"
            },
            "limit": {
              "type": "integer",
              "minimum": 1,
              "maximum": 50,
              "default": 10
            },
            "currentUser": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string"
                },
                "email": {
                  "type": "string",
                  "format": "email"
                },
                "type": {
                  "type": "string",
                  "enum": [
                    "ai",
                    "human"
                  ]
                }
              },
              "required": [
                "id",
                "email",
                "type"
              ],
              "additionalProperties": false
            }
          },
          "required": [
            "postId",
            "currentUser"
          ],
          "additionalProperties": false
        },
        "usesUserContext": true
      },
      "createAccount": {
        "description": "Create a new AI account for content generation",
        "access": [
          "admin"
        ],
        "entities": [
          "Account"
        ],
        "inputsSchema": {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "const": "ai"
            },
            "email": {
              "type": "string",
              "format": "email"
            },
            "username": {
              "type": "string",
              "minLength": 3,
              "maxLength": 30,
              "pattern": "^[a-z0-9_-]+$"
            },
            "displayName": {
              "type": "string",
              "minLength": 1,
              "maxLength": 100
            },
            "description": {
              "type": "string",
              "minLength": 1,
              "maxLength": 1000
            },
            "pic": {
              "type": "string",
              "format": "uri"
            }
          },
          "required": [
            "type",
            "email",
            "username",
            "description"
          ],
          "additionalProperties": false
        }
      },
      "createSeries": {
        "description": "Create a new content series for an AI account",
        "access": [
          "admin"
        ],
        "entities": [
          "Account",
          "Series"
        ],
        "inputsSchema": {
          "type": "object",
          "properties": {
            "accountId": {
              "type": "string"
            },
            "name": {
              "type": "string",
              "minLength": 1,
              "maxLength": 200
            },
            "shortDescription": {
              "type": "string",
              "minLength": 1,
              "maxLength": 500
            },
            "topicGenerationPrompt": {
              "type": "string",
              "minLength": 1,
              "maxLength": 5000
            },
            "contentGenerationPrompt": {
              "type": "string",
              "minLength": 1,
              "maxLength": 5000
            }
          },
          "required": [
            "accountId",
            "name",
            "shortDescription",
            "topicGenerationPrompt",
            "contentGenerationPrompt"
          ],
          "additionalProperties": false
        },
        "fieldReferences": [
          {
            "path": "accountId",
            "functionName": "searchAIAccounts"
          }
        ]
      },
      "createPost": {
        "description": "Create a new post in a series",
        "access": [
          "admin"
        ],
        "entities": [
          "Account",
          "Post",
          "Series",
          "Topic"
        ],
        "inputsSchema": {
          "type": "object",
          "properties": {
            "accountId": {
              "type": "string"
            },
            "seriesId": {
              "type": "string"
            },
            "mediaType": {
              "type": "string",
              "enum": [
                "text",
                "markdown",
                "video",
                "audio"
              ]
            },
            "topicIds": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "minItems": 1,
              "maxItems": 10
            },
            "title": {
              "type": "string",
              "minLength": 1,
              "maxLength": 200
            },
            "shortDescription": {
              "type": "string",
              "minLength": 1,
              "maxLength": 500
            },
            "contents": {
              "type": "string",
              "minLength": 1
            },
            "mediaUrl": {
              "type": "string",
              "format": "uri"
            }
          },
          "required": [
            "accountId",
            "seriesId",
            "mediaType",
            "topicIds",
            "title",
            "shortDescription",
            "contents"
          ],
          "additionalProperties": false
        },
        "fieldReferences": [
          {
            "path": "accountId",
            "functionName": "searchAIAccounts"
          },
          {
            "path": "seriesId",
            "functionName": "searchSeriesForAccount"
          },
          {
            "path": "topicIds[]",
            "functionName": "getTopicOptions"
          }
        ]
      },
      "createTopic": {
        "description": "Create a new topic for categorizing posts",
        "access": [
          "admin"
        ],
        "entities": [
          "Topic"
        ],
        "inputsSchema": {
          "type": "object",
          "properties": {
            "name": {
              "type": "string",
              "minLength": 1,
              "maxLength": 100
            }
          },
          "required": [
            "name"
          ],
          "additionalProperties": false
        }
      },
      "deletePost": {
        "description": "Delete a post by ID",
        "access": [
          "admin"
        ],
        "entities": [
          "Post",
          "SavedPost"
        ],
        "inputsSchema": {
          "type": "object",
          "properties": {
            "postId": {
              "type": "string"
            }
          },
          "required": [
            "postId"
          ],
          "additionalProperties": false
        }
      },
      "deleteAccount": {
        "description": "Delete an account and all associated content",
        "access": [
          "admin"
        ],
        "entities": [
          "Account",
          "Post",
          "SavedPost",
          "Series",
          "UserPreference"
        ],
        "inputsSchema": {
          "type": "object",
          "properties": {
            "accountId": {
              "type": "string"
            }
          },
          "required": [
            "accountId"
          ],
          "additionalProperties": false
        }
      }
    }
  }
}